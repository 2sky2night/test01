<template>
 <Watermark ref="watermarkInstance" :src="watermarkSrc" >
    <div class="main">
      <Minput v-model="name" @change="handleChange" size="normal" />
      <button @click="closeWatermark">关闭水印</button>
      <button @click="openWatermark">开启水印</button>
    </div>
  </Watermark>
</template>

<script lang='ts' setup>
import { ref } from 'vue'
import Minput from '@/components/input/index.vue'
import Watermark from '@/components/waterMark/index.vue'
import type { WatermarkExposed } from '@/components/watermark/types';
const name = ref('')
const watermarkInstance = ref<WatermarkExposed|null>(null)
function handleChange () {
  console.log(name.value)
}

const watermarkSrc='data:image/png;base64,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'

function closeWatermark () {
  (watermarkInstance.value as WatermarkExposed).closeWatermark()
}

function openWatermark () {
  (watermarkInstance.value as WatermarkExposed).openWatermark()
}
</script>

<style scoped lang='scss'>

</style>